def fetch_notices():
    headers = {
        "User-Agent": "Mozilla/5.0",
    }

    params = {
        "menu_idx": "42",
        "pageIndex": "1"
    }

    res = requests.get(NOTICE_URL, headers=headers, params=params)
    if res.status_code != 200:
        print(f"❌ 게시판 페이지 요청 실패: {res.status_code}")
        return []

    soup = BeautifulSoup(res.text, "html.parser")

    # 최근 공지 구조에 맞춘 선택자 (div/ul/li 구조로 가정)
    rows = soup.select("div.board_list ul li")  # 구조가 바뀌면 이 부분만 수정
    if not rows:
        print("❌ 게시판 테이블을 찾을 수 없습니다. HTML 구조 확인 필요")
        return []

    notices = []
    for row in rows:
        link = row.select_one("a")
        if not link:
            continue
        title = link.get_text(strip=True)
        href = link.get("href")
        notices.append({
            "title": title,
            "url": urljoin(BASE_URL, href)
        })

    return notices
